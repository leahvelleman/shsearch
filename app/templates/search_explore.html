{% from 'components.html' import facet_term %}
<div class="card my-3">
    <h5 class="card-header">Filter</h5>
    <div class="card-body">
        {% for facet in facets %}
        <h6>{{ facet | replace('_', ' ') | capitalize }}</h6>
        {% if facet in arguments %}
        <ul class="list-unstyled">
            {% for value in everything.groups(facet) | select | sort %}
            <li>{{ facet_term(arguments, songs, facet, value) }}</li>
            {% endfor %}
        </ul>
        {% else %}
        <ul class="list-unstyled">
            {% for value in songs.groups(facet) | select | sort %}
            <li>{{ facet_term(arguments, songs, facet, value) }}</li>
            {% endfor %}
        </ul>
        {% endif %}
        {% endfor %}
    </div>
</div>
